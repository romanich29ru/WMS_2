<!-- ========================================================
     –ë–´–°–¢–†–û–ï –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê
     –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ –±–ª–æ–∫–∏ –≤ index.html
     ======================================================== -->

<!-- 1. –î–û–ë–ê–í–ò–¢–¨ –í <head> –ü–ï–†–ï–î </head> -->
<link rel="stylesheet" href="/styles/articles-sync.css">

<!-- 2. –î–û–ë–ê–í–ò–¢–¨ –í <body> –ü–û–°–õ–ï <div id="app"> –ò –î–û </body> -->

<!-- –†–µ–∂–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–¥–ª—è –ü–ö) -->
<div id="monitoring-mode" class="monitoring-mode">
    <div class="monitoring-header">
        <div class="monitoring-title">
            üè¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–ª–ª–µ–∏: <span id="monitoring-alley-name">-</span>
        </div>
        <div class="monitoring-stats">
            <div class="monitoring-stat">
                –í—Å–µ–≥–æ: <span class="monitoring-stat-value" id="stat-total">0</span>
            </div>
            <div class="monitoring-stat">
                ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: <span class="monitoring-stat-value" id="stat-checked">0</span>
            </div>
            <div class="monitoring-stat">
                ‚ö†Ô∏è –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: <span class="monitoring-stat-value" id="stat-discrepancy">0</span>
            </div>
            <div class="monitoring-stat">
                ‚ùå –û—à–∏–±–∫–∏: <span class="monitoring-stat-value" id="stat-errors">0</span>
            </div>
            <button onclick="closeMonitoringMode()" 
                    style="margin-left: 30px; padding: 8px 12px; background: #95a5a6; color: white; border: none; border-radius: 4px; cursor: pointer;">
                ‚úï –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>

    <div class="monitoring-filters">
        <span class="filter-label">–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É:</span>
        <div class="filter-buttons-group">
            <button class="monitoring-filter-btn active" onclick="setMonitoringFilter('status', 'all')">–í—Å–µ</button>
            <button class="monitoring-filter-btn" onclick="setMonitoringFilter('status', 'unchecked')">‚¨ú –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã</button>
            <button class="monitoring-filter-btn" onclick="setMonitoringFilter('status', 'checked')">‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã</button>
            <button class="monitoring-filter-btn" onclick="setMonitoringFilter('status', 'discrepancy')">‚ö†Ô∏è –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è</button>
            <button class="monitoring-filter-btn" onclick="setMonitoringFilter('status', 'error')">‚ùå –û—à–∏–±–∫–∏</button>
        </div>
    </div>

    <div class="alleys-grid" id="topology-container">
        <!-- –°–µ—Ç–∫–∞ —è—á–µ–µ–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–¥–µ—Å—å JavaScript -->
    </div>

    <div class="sync-status-indicator" id="sync-indicator" style="display: none;">
        <div class="sync-status-dot synced" id="sync-status-dot"></div>
        <span class="sync-status-text">
            –°—Ç–∞—Ç—É—Å: <span id="sync-status-text">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ</span>
        </span>
        <span class="sync-queue-count" id="sync-queue-count" style="display: none;">
            (–≤ –æ—á–µ—Ä–µ–¥–∏: <span id="queue-count">0</span>)
        </span>
    </div>
</div>

<!-- 3. –î–û–ë–ê–í–ò–¢–¨ –ö–ù–û–ü–ö–£ –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê –í NAVBAR/HEADER -->
<!-- –ü–æ–º–µ—Å—Ç–∏—Ç—å —ç—Ç—É –∫–Ω–æ–ø–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π navbar —Ä—è–¥–æ–º —Å –¥—Ä—É–≥–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ -->
<button id="monitoring-btn" 
        class="header-btn" 
        onclick="openMonitoringMode(currentAlley)" 
        title="–û—Ç–∫—Ä—ã—Ç—å —Ä–µ–∂–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–ª–ª–µ–∏"
        style="padding: 10px 14px; margin: 0 5px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; font-size: 0.95rem;">
    üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
</button>

<!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç—á–µ—Ç–∞ —Å–∏–Ω—Ö—Ä–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
<button id="sync-report-btn" 
        class="header-btn" 
        onclick="exportSyncReport()" 
        title="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏"
        style="padding: 10px 14px; margin: 0 5px; background: #27ae60; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; font-size: 0.95rem;">
    üìã –û—Ç—á–µ—Ç
</button>

<!-- 4. –ü–û–î–ö–õ–Æ–ß–ò–¢–¨ –°–ö–†–ò–ü–¢–´ –ü–ï–†–ï–î </body> -->
<script src="/modules/sync-articles.js"></script>
<script src="/modules/realtime-sync.js"></script>
<script src="/quickstart.js"></script>

<!-- 5. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø (–¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π <script> —Ç–µ–≥) -->
<script>
    // –í—ã–∑–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ warehousesData
    document.addEventListener('DOMContentLoaded', function() {
        // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏...
        
        // === –î–û–ë–ê–í–ò–¢–¨ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Æ ===
        setTimeout(() => {
            if (typeof initSync === 'function') {
                initSync();
                console.log('‚úì –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
            }
        }, 1500); // –ü–æ–¥–æ–∂–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    });
</script>

<!-- ========================================================
     –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ –ò–ù–¢–ï–†–§–ï–ô–°–ê
     ======================================================== -->

<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ -->
<!-- –î–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (modal), –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ -->
<div id="articles-container" style="margin: 15px 0;">
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript –∏–∑ updateCellStatus() -->
</div>

<!-- ========================================================
     –°–¢–ò–õ–ò –î–õ–Ø –ö–ù–û–ü–û–ö –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     ======================================================== -->
<style>
    .header-btn {
        transition: all 0.2s ease;
    }

    .header-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .header-btn:active {
        transform: translateY(0);
    }

    /* –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    @media (max-width: 768px) {
        #monitoring-mode {
            display: none !important;
        }
        #monitoring-btn {
            display: none !important;
        }
    }

    /* –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
    .topology-cell-unchecked {
        background: #ecf0f1;
        color: #34495e;
        border-color: #bdc3c7;
    }

    .topology-cell-checked-ok {
        background: #d5f4e6;
        color: #27ae60;
        border-color: #1abc9c;
    }

    .topology-cell-discrepancy {
        background: #fef5e7;
        color: #f39c12;
        border-color: #f1c40f;
    }

    .topology-cell-error {
        background: #fadbd8;
        color: #c0392b;
        border-color: #e74c3c;
    }

    .topology-cell-article-error {
        background: #ebdef0;
        color: #8e44ad;
        border-color: #af7ac5;
    }
</style>

<!-- ========================================================
     –ü–†–ò–ú–ï–†–´ –ö–û–ú–ê–ù–î –î–õ–Ø –ö–û–ù–°–û–õ–ò (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
     ======================================================== -->
<!--
// –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–∂–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
openMonitoringMode('A01');

// –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
console.log(syncManager.getSyncQueueStatus());

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
exportSyncReport();

// –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–ª–∞–¥–∫—É
debugSync();

// –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ
syncManager.clearSyncQueue();

// –°–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
syncManager.on('remote-update', (data) => {
    console.log('–ü–æ–ª—É—á–µ–Ω–æ —É–¥–∞–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:', data);
    location.reload();
});
-->
